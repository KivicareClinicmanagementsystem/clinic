"use strict";!function(p){p(document).ready(function(){var a=p(".php_prefix_datapass").data("options"),e=p(".php_prefix_datapass_blog").data("options"),i=p(".watchlist-contens").data("options");"load_more"==a&&p(".php_prefix_loadmore_btn").click(function(){var e=p(this).attr("data-loading-text"),i=p(this).text(),r=p(this),a={action:"loadmore",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};p.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){r.text(e)},success:function(a){a?(r.text(i).prev("div").append(a),php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&r.remove()):r.remove()}})}),"load_more"==e&&p(".php_prefix_loadmore_btn_blog").click(function(){var e=p(this).attr("data-loading-text"),i=p(this).text(),r=p(this),a={action:"loadmore_blog",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};p.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){r.text(e)},success:function(a){a?(r.text(i).prev().after(a),php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&r.remove()):r.remove()}})}),"load_more"==i&&p(".php_prefix_loadmore_btn").click(function(){var e=p(this).attr("data-loading-text"),i=p(this).text(),r=p(".watchlist-contens").data("pages"),t=p(this),a={action:"loadmore_archive",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page,availablepost:p(".watchlist-contens").data("displaypost")};p.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){t.text(e)},success:function(a){a?(t.text(i).prev("div").append(a),watchlist_last_item(),circle_chart(),php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==r&&t.remove()):t.remove()}})})}),p(function(t){var p=!0,o=2e3,a=t(".php_prefix_datapass").data("options"),e=t(".php_prefix_datapass_blog").data("options"),i=t(".php_prefix_datapass_archive").data("options");t(".css_prefix-product-main-list").data("options");"infinite_scroll"==a&&t(window).scroll(function(){var a={action:"loadmore",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};t(document).scrollTop()>t(document).height()-o&&1==p&&t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){p=!1},success:function(a){a?(t(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),t("#main").find("article:last-of-type").after(a),p=!0,php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&t(".loader-wheel-container").html("")):t(".loader-wheel-container").html("")}})}),"infinite_scroll"==e&&t(window).scroll(function(){var a={action:"loadmore_blog",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page};t(document).scrollTop()>t(document).height()-o&&1==p&&t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){p=!1},success:function(a){a?(t(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),t("#main").find(".css_prefix-blog-main-list .loader-wheel-container").before(a),p=!0,php_prefix_loadmore_params.current_page++,php_prefix_loadmore_params.current_page==php_prefix_loadmore_params.max_page&&t(".loader-wheel-container").html("")):t(".loader-wheel-container").html("")}})}),"infinite_scroll"==i&&t(window).scroll(function(){var e=t(".watchlist-contens").data("pages"),i=t(".loader-wheel-container"),a=(t(this),{action:"loadmore_archive",query:php_prefix_loadmore_params.posts,page:php_prefix_loadmore_params.current_page,availablepost:t(".watchlist-contens").data("displaypost")});t(document).scrollTop()>t(document).height()-o&&1==p&&t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){p=!1},success:function(a){a?(t(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),i.prev("div").append(a),watchlist_last_item(),circle_chart(),php_prefix_loadmore_params.current_page++,p=!0,php_prefix_loadmore_params.current_page==e&&t(".loader-wheel-container").html("")):t(".loader-wheel-container").html("")}})}),0<t("#cast-person-list").length&&t("#cast-person-list").scroll(function(){var a,e,i,r=t(this);"infinite_scroll"==r.find(".schopfer_cast_list.active").data("options")&&t(document).scrollTop()>t(document).height()-o&&1==p&&(p=!1,a=parseInt(r.find(".schopfer_cast_list.active").data("current-page")),i=r.find(".schopfer_cast_list.active").attr("data-attibute"),e=window.location.href,i={action:"loadmore_person",query:php_prefix_loadmore_params.posts,page:a,href:e,post_type:i},a++,r.find(".schopfer_cast_list.active").data("current-page",a),t.ajax({url:php_prefix_loadmore_params.ajaxurl,data:i,type:"POST",success:function(a){a?(r.find(".schopfer_cast_list.active .loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),r.find(".schopfer_cast_list.active .cast-related-list tr:last-child").after(a),p=!0):r.find(".schopfer_cast_list.active .loader-wheel-container").html("")}}))})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWRtb3JlLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCJwaHBfcHJlZml4X29wdGlvbnMiLCJkYXRhIiwicGhwX3ByZWZpeF9vcHRpb25zX2Jsb2ciLCJwaHBfcHJlZml4X29wdGlvbl9hY2hpdmUiLCJjbGljayIsImJ1dHRvbl9sb2FkIiwidGhpcyIsImF0dHIiLCJidXR0b25fdGV4dCIsInRleHQiLCJidXR0b24iLCJhY3Rpb24iLCJxdWVyeSIsInBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zIiwicGFnZSIsImN1cnJlbnRfcGFnZSIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwieGhyIiwiYmVmb3JlU2VuZCIsInN1Y2Nlc3MiLCJwcmV2IiwiYXBwZW5kIiwibWF4X3BhZ2UiLCJyZW1vdmUiLCJhamF4dXJsIiwicG9zdHMiLCJhdmFpbGFibGVwb3N0Iiwid2F0Y2hsaXN0X2xhc3RfaXRlbSIsImNpcmNsZV9jaGFydCIsImNhbkJlTG9hZGVkIiwiYm90dG9tT2Zmc2V0IiwicGhwX3ByZWZpeF9vcHRpb25fYXJjaGl2ZSIsIndpbmRvdyIsInNjcm9sbFRvcCIsImhlaWdodCIsImh0bWwiLCJmaW5kIiwiYWZ0ZXIiLCJzY3JvbGwiLCJiZWZvcmUiLCJsb2FkZXJfd2hlZWwiLCJsZW5ndGgiLCJwaHBfcHJlZml4X2N1cnJlbnRfcGFnZSIsIl90aGlzIiwicG9zdCIsImhyZWYiLCJwb3N0X3R5cGUiXSwibWFwcGluZ3MiOiJjQUFBLFNBQVdBLEdBQVZBLEVBQUFDLFVBQUFDLE1BQWtCLFdBSWpCLElBQUFDLEVBQXNCSCxFQUFHQSx3QkFBTUksS0FBeUJBLFdBQ3hEQyxFQUEyQkwsRUFBR0EsNkJBQU1JLEtBQThCQSxXQUNsRUUsRUFBNEJOLEVBQUdBLHNCQUFNSSxLQUF1QkEsV0FNeENKLGFBQWxCRyxHQUNBSCxFQUFBLDRCQUFrQk8sTUFBQSxXQUNsQixJQUFBQyxFQUFhUixFQUFPUyxNQUFwQkMsS0FBQSxxQkFBQUMsRUFDUVgs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LEVBQUFBLDJCQUFvQk0sS0FBQSx3SEFKcEJLLEVBQWFwQixLQUFLLE9BQU9DLE9BQU90QixHQU1oQzRCLHNCQUdBQyxlQUNBakMsMkJBQU9rQixlQUNQZ0IsR0FBQSxFQXJCSGxCLDJCQUFBRSxjQUFBUyxHQXdCQTNCLEVBQUEsMkJBQUF3QyxLQUFBLEtBSkd4QyxFQUFPLDJCQUEyQndDLEtBQUssU0FrQnpDLEVBQUFOLEVBQUFBLHFCQUFBWSxRQUNBOUMsRUFBQSxxQkFBSStDLE9BQUFBLFdBTk4sSUFXR0EsRUFFQTNCLEVBQ0FoQixFQWRDNEMsRUFBUWhELEVBQU9TLE1BRWtCLG1CQUtidUMsRUFBQVAsS0FBQSw4QkFBbUNyQyxLQUF6RCxZQUVBSixFQUFJSSxVQUFPa0MsWUFBQXRDLEVBQUFDLFVBQUFzQyxTQUFBSixHQUFBLEdBQUFELElBQ1ZBLEdBQUEsRUFDQWEsRUFBUy9CLFNBQUFBLEVBQTJCYyxLQUYxQiw4QkFBQTFCLEtBQUEsaUJBR1Y2QyxFQUFBRCxFQUFRRCxLQUFBQSw4QkFIRXJDLEtBQUEsaUJBSVZVLEVBQUFpQixPQUFRakIsU0FKRThCLEtBS1Y5QyxFQUFBLENBTFVVLE9BQVgsa0JBT0FpQyxNQUFBQSwyQkFBdUJqQixNQUp0QmIsS0FBUThCLEVBS1RDLEtBQUFBLEVBSENHLFVBQWFGLEdBS2I3QixJQUNBaEIsRUFBQUEsS0FBQUEsOEJBRldBLEtBQUEsZUFBQTJDLEdBR1gxQixFQUFBQSxLQUFJLENBQ0pHLElBQUFBLDJCQUFTSyxRQUNSekIsS0FBQUEsRUFDQzRDLEtBQUFBLE9BRkZ4QixRQUFTLFNBQVVwQixHQUdqQjRDLEdBREFBLEVBQU1QLEtBQUssc0RBQXNERCxLQUFLLHdIQUN0RVEsRUFBTVAsS0FBSywrREFBK0RDLE1BQU10QyxHQUNoRjhCLEdBQUFBLEdBSUFjLEVBQUFQLEtBQUEsc0RBQUFELEtBQUEsWUE5UlQsQ0E0U0d4QyIsImZpbGUiOiJsb2FkbW9yZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGpRdWVyeSkge1xuXG5cdGpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9ucyA9IGpRdWVyeSgnLnBocF9wcmVmaXhfZGF0YXBhc3MnKS5kYXRhKCdvcHRpb25zJyk7XG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9uc19ibG9nID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzc19ibG9nJykuZGF0YSgnb3B0aW9ucycpO1xuXHRcdGxldCBwaHBfcHJlZml4X29wdGlvbl9hY2hpdmUgPSBqUXVlcnkoJy53YXRjaGxpc3QtY29udGVucycpLmRhdGEoJ29wdGlvbnMnKTtcblxuXG5cblx0XHRpZiAocGhwX3ByZWZpeF9vcHRpb25zID09IFwibG9hZF9tb3JlXCIpIHtcblx0XHRcdGpRdWVyeSgnLnBocF9wcmVmaXhfbG9hZG1vcmVfYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRsZXQgYnV0dG9uX2xvYWQgPSBqUXVlcnkodGhpcykuYXR0cignZGF0YS1sb2FkaW5nLXRleHQnKTtcblx0XHRcdFx0bGV0IGJ1dHRvbl90ZXh0ID0galF1ZXJ5KHRoaXMpLnRleHQoKTtcblx0XHRcdFx0bGV0IGJ1dHRvbiA9IGpRdWVyeSh0aGlzKSxcblx0XHRcdFx0XHRkYXRhID0ge1xuXHRcdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZScsXG5cdFx0XHRcdFx0XHQncXVlcnknOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5wb3N0cywgLy8gdGhhdCdzIGhvdyB3ZSBnZXQgcGFyYW1zIGZyb20gd3BfbG9jYWxpemVfc2NyaXB0KCkgZnVuY3Rpb25cblx0XHRcdFx0XHRcdCdwYWdlJzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0alF1ZXJ5LmFqYXgoeyAvLyB5b3UgY2FuIGFsc28gdXNlIGpRdWVyeS5wb3N0IGhlcmVcblx0XHRcdFx0XHR1cmw6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmFqYXh1cmwsIC8vIEFKQVggaGFuZGxlclxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl9sb2FkKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCwgeW91IGNhbiBhbHNvIGFkZCBhIHByZWxvYWRlciBpbWFnZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl90ZXh0KS5wcmV2KCdkaXYnKS5hcHBlbmQoZGF0YSk7IC8vIGluc2VydCBuZXcgcG9zdHNcblx0XHRcdFx0XHRcdFx0cGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XG5cblx0XHRcdFx0XHRcdFx0aWYgKHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSA9PSBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5tYXhfcGFnZSlcblx0XHRcdFx0XHRcdFx0XHRidXR0b24ucmVtb3ZlKCk7IC8vIGlmIGxhc3QgcGFnZSwgcmVtb3ZlIHRoZSBidXR0b25cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZSgpOyAvLyBpZiBubyBkYXRhLCByZW1vdmUgdGhlIGJ1dHRvbiBhcyB3ZWxsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRpZiAocGhwX3ByZWZpeF9vcHRpb25zX2Jsb2cgPT0gXCJsb2FkX21vcmVcIikge1xuXHRcdFx0Ly8qKiBibG9nIGxvYWQgbW9yZSAqLy9cblx0XHRcdGpRdWVyeSgnLnBocF9wcmVmaXhfbG9hZG1vcmVfYnRuX2Jsb2cnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGxldCBidXR0b25fbG9hZCA9IGpRdWVyeSh0aGlzKS5hdHRyKCdkYXRhLWxvYWRpbmctdGV4dCcpO1xuXHRcdFx0XHRsZXQgYnV0dG9uX3RleHQgPSBqUXVlcnkodGhpcykudGV4dCgpO1xuXHRcdFx0XHRsZXQgYnV0dG9uID0galF1ZXJ5KHRoaXMpLFxuXHRcdFx0XHRcdGRhdGEgPSB7XG5cdFx0XHRcdFx0XHQnYWN0aW9uJzogJ2xvYWRtb3JlX2Jsb2cnLFxuXHRcdFx0XHRcdFx0J3F1ZXJ5JzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMucG9zdHMsIC8vIHRoYXQncyBob3cgd2UgZ2V0IHBhcmFtcyBmcm9tIHdwX2xvY2FsaXplX3NjcmlwdCgpIGZ1bmN0aW9uXG5cdFx0XHRcdFx0XHQncGFnZSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZVxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0alF1ZXJ5LmFqYXgoeyAvLyB5b3UgY2FuIGFsc28gdXNlIGpRdWVyeS5wb3N0IGhlcmVcblx0XHRcdFx0XHR1cmw6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmFqYXh1cmwsIC8vIEFKQVggaGFuZGxlclxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxuXHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl9sb2FkKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCwgeW91IGNhbiBhbHNvIGFkZCBhIHByZWxvYWRlciBpbWFnZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl90ZXh0KS5wcmV2KCkuYWZ0ZXIoZGF0YSk7IC8vIGluc2VydCBuZXcgcG9zdHNcblx0XHRcdFx0XHRcdFx0cGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XG5cblx0XHRcdFx0XHRcdFx0aWYgKHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSA9PSBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5tYXhfcGFnZSlcblx0XHRcdFx0XHRcdFx0XHRidXR0b24ucmVtb3ZlKCk7IC8vIGlmIGxhc3QgcGFnZSwgcmVtb3ZlIHRoZSBidXR0b25cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZSgpOyAvLyBpZiBubyBkYXRhLCByZW1vdmUgdGhlIGJ1dHRvbiBhcyB3ZWxsXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0aWYgKHBocF9wcmVmaXhfb3B0aW9uX2FjaGl2ZSA9PSBcImxvYWRfbW9yZVwiKSB7XG5cdFx0XHRqUXVlcnkoJy5waHBfcHJlZml4X2xvYWRtb3JlX2J0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bGV0IGJ1dHRvbl9sb2FkID0galF1ZXJ5KHRoaXMpLmF0dHIoJ2RhdGEtbG9hZGluZy10ZXh0Jyk7XG5cdFx0XHRcdGxldCBidXR0b25fdGV4dCA9IGpRdWVyeSh0aGlzKS50ZXh0KCk7XG5cdFx0XHRcdGxldCBtYXhfcGFnZSA9IGpRdWVyeSgnLndhdGNobGlzdC1jb250ZW5zJykuZGF0YSgncGFnZXMnKTtcblx0XHRcdFx0bGV0IGJ1dHRvbiA9IGpRdWVyeSh0aGlzKSxcblx0XHRcdFx0XHRkYXRhID0ge1xuXHRcdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZV9hcmNoaXZlJyxcblx0XHRcdFx0XHRcdCdxdWVyeSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLnBvc3RzLCAvLyB0aGF0J3MgaG93IHdlIGdldCBwYXJhbXMgZnJvbSB3cF9sb2NhbGl6ZV9zY3JpcHQoKSBmdW5jdGlvblxuXHRcdFx0XHRcdFx0J3BhZ2UnOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UsXG5cdFx0XHRcdFx0XHQnYXZhaWxhYmxlcG9zdCc6IGpRdWVyeSgnLndhdGNobGlzdC1jb250ZW5zJykuZGF0YSgnZGlzcGxheXBvc3QnKSxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRqUXVlcnkuYWpheCh7IC8vIHlvdSBjYW4gYWxzbyB1c2UgalF1ZXJ5LnBvc3QgaGVyZVxuXHRcdFx0XHRcdHVybDogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuYWpheHVybCwgLy8gQUpBWCBoYW5kbGVyXG5cdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xuXHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoYnV0dG9uX2xvYWQpOyAvLyBjaGFuZ2UgdGhlIGJ1dHRvbiB0ZXh0LCB5b3UgY2FuIGFsc28gYWRkIGEgcHJlbG9hZGVyIGltYWdlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoYnV0dG9uX3RleHQpLnByZXYoJ2RpdicpLmFwcGVuZChkYXRhKTsgLy8gaW5zZXJ0IG5ldyBwb3N0c1xuXHRcdFx0XHRcdFx0XHR3YXRjaGxpc3RfbGFzdF9pdGVtKCk7XG5cdFx0XHRcdFx0XHRcdGNpcmNsZV9jaGFydCgpO1xuXHRcdFx0XHRcdFx0XHRwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UrKztcblxuXHRcdFx0XHRcdFx0XHRpZiAocGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID09IG1heF9wYWdlKVxuXHRcdFx0XHRcdFx0XHRcdGJ1dHRvbi5yZW1vdmUoKTsgLy8gaWYgbGFzdCBwYWdlLCByZW1vdmUgdGhlIGJ1dHRvblxuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRidXR0b24ucmVtb3ZlKCk7IC8vIGlmIG5vIGRhdGEsIHJlbW92ZSB0aGUgYnV0dG9uIGFzIHdlbGxcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0fSk7XG5cblx0alF1ZXJ5KGZ1bmN0aW9uIChqUXVlcnkpIHtcblxuXHRcdGxldCBjYW5CZUxvYWRlZCA9IHRydWUsXG5cdFx0XHRib3R0b21PZmZzZXQgPSAyMDAwOyAvLyB0aGUgZGlzdGFuY2UgKGluIHB4KSBmcm9tIHRoZSBwYWdlIGJvdHRvbSB3aGVuIHlvdSB3YW50IHRvIGxvYWQgbW9yZSBwb3N0c1xuXG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9ucyA9IGpRdWVyeSgnLnBocF9wcmVmaXhfZGF0YXBhc3MnKS5kYXRhKCdvcHRpb25zJyk7XG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9uc19ibG9nID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzc19ibG9nJykuZGF0YSgnb3B0aW9ucycpO1xuXHRcdGxldCBwaHBfcHJlZml4X29wdGlvbl9hcmNoaXZlID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzc19hcmNoaXZlJykuZGF0YSgnb3B0aW9ucycpXG5cdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9uX3Byb2R1Y3QgPSBqUXVlcnkoJy5jc3NfcHJlZml4LXByb2R1Y3QtbWFpbi1saXN0JykuZGF0YSgnb3B0aW9ucycpO1xuXHRcdGlmIChwaHBfcHJlZml4X29wdGlvbnMgPT0gXCJpbmZpbml0ZV9zY3JvbGxcIikge1xuXG5cdFx0XHRqUXVlcnkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRsZXQgZGF0YSA9IHtcblx0XHRcdFx0XHQnYWN0aW9uJzogJ2xvYWRtb3JlJyxcblx0XHRcdFx0XHQncXVlcnknOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5wb3N0cyxcblx0XHRcdFx0XHQncGFnZSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGlmIChqUXVlcnkoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gKGpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmIGNhbkJlTG9hZGVkID09IHRydWUpIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdFx0XHRcdHVybDogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuYWpheHVybCxcblx0XHRcdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG5cdFx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCc8ZGl2IGNsYXNzPVwibG9hZGVyLXdoZWVsXCI+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9kaXY+Jyk7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCcjbWFpbicpLmZpbmQoJ2FydGljbGU6bGFzdC1vZi10eXBlJykuYWZ0ZXIoZGF0YSk7IC8vIHdoZXJlIHRvIGluc2VydCBwb3N0c1xuXHRcdFx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gdHJ1ZTsgLy8gdGhlIGFqYXggaXMgY29tcGxldGVkLCBub3cgd2UgY2FuIHJ1biBpdCBhZ2FpblxuXHRcdFx0XHRcdFx0XHRcdHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSsrO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSA9PSBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5tYXhfcGFnZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnJyk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeShcIi5sb2FkZXItd2hlZWwtY29udGFpbmVyXCIpLmh0bWwoJycpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdH0pO1xuXG5cdFx0fVxuXHRcdGlmIChwaHBfcHJlZml4X29wdGlvbnNfYmxvZyA9PSBcImluZmluaXRlX3Njcm9sbFwiKSB7XG5cdFx0XHRqUXVlcnkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdC8vKiogc2VhcmNoIGxvYWQgbW9yZSAqLy9cblx0XHRcdFx0bGV0IGRhdGEgPSB7XG5cdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZV9ibG9nJyxcblx0XHRcdFx0XHQncXVlcnknOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5wb3N0cyxcblx0XHRcdFx0XHQncGFnZSc6IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGlmIChqUXVlcnkoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gKGpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmIGNhbkJlTG9hZGVkID09IHRydWUpIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdFx0XHRcdHVybDogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuYWpheHVybCxcblx0XHRcdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXG5cdFx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG5cdFx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCc8ZGl2IGNsYXNzPVwibG9hZGVyLXdoZWVsXCI+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9kaXY+Jyk7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCcjbWFpbicpLmZpbmQoJy5jc3NfcHJlZml4LWJsb2ctbWFpbi1saXN0IC5sb2FkZXItd2hlZWwtY29udGFpbmVyJykuYmVmb3JlKGRhdGEpOyAvLyB3aGVyZSB0byBpbnNlcnQgcG9zdHNcblx0XHRcdFx0XHRcdFx0XHRjYW5CZUxvYWRlZCA9IHRydWU7IC8vIHRoZSBhamF4IGlzIGNvbXBsZXRlZCwgbm93IHdlIGNhbiBydW4gaXQgYWdhaW5cblx0XHRcdFx0XHRcdFx0XHRwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UrKztcblx0XHRcdFx0XHRcdFx0XHRpZiAocGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID09IHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLm1heF9wYWdlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCcnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnJyk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vRm9yIEFyY2hpdmUgcGFnZSBcblx0XHRpZiAocGhwX3ByZWZpeF9vcHRpb25fYXJjaGl2ZSA9PSBcImluZmluaXRlX3Njcm9sbFwiKSB7XG5cdFx0XHRqUXVlcnkod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdC8vKiogc2VhcmNoIGxvYWQgbW9yZSAqLy9cblxuXHRcdFx0XHRsZXQgbWF4X3BhZ2UgPSBqUXVlcnkoJy53YXRjaGxpc3QtY29udGVucycpLmRhdGEoJ3BhZ2VzJyk7XG5cdFx0XHRcdGxldCBsb2FkZXJfd2hlZWwgPSBqUXVlcnkoJy5sb2FkZXItd2hlZWwtY29udGFpbmVyJyk7XG5cdFx0XHRcdGxldCBidXR0b24gPSBqUXVlcnkodGhpcyksXG5cdFx0XHRcdFx0ZGF0YSA9IHtcblx0XHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmVfYXJjaGl2ZScsXG5cdFx0XHRcdFx0XHQncXVlcnknOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5wb3N0cywgLy8gdGhhdCdzIGhvdyB3ZSBnZXQgcGFyYW1zIGZyb20gd3BfbG9jYWxpemVfc2NyaXB0KCkgZnVuY3Rpb25cblx0XHRcdFx0XHRcdCdwYWdlJzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlLFxuXHRcdFx0XHRcdFx0J2F2YWlsYWJsZXBvc3QnOiBqUXVlcnkoJy53YXRjaGxpc3QtY29udGVucycpLmRhdGEoJ2Rpc3BsYXlwb3N0JyksXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRpZiAoalF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IChqUXVlcnkoZG9jdW1lbnQpLmhlaWdodCgpIC0gYm90dG9tT2Zmc2V0KSAmJiBjYW5CZUxvYWRlZCA9PSB0cnVlKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmFqYXgoeyAvLyB5b3UgY2FuIGFsc28gdXNlIGpRdWVyeS5wb3N0IGhlcmVcblx0XHRcdFx0XHRcdHVybDogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuYWpheHVybCwgLy8gQUpBWCBoYW5kbGVyXG5cdFx0XHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxuXHRcdFx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24gKHhocikge1xuXHRcdFx0XHRcdFx0XHRjYW5CZUxvYWRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnPGRpdiBjbGFzcz1cImxvYWRlci13aGVlbFwiPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvZGl2PicpO1xuXHRcdFx0XHRcdFx0XHRcdGxvYWRlcl93aGVlbC5wcmV2KCdkaXYnKS5hcHBlbmQoZGF0YSk7IC8vIGluc2VydCBuZXcgcG9zdHNcblx0XHRcdFx0XHRcdFx0XHR3YXRjaGxpc3RfbGFzdF9pdGVtKCk7XG5cdFx0XHRcdFx0XHRcdFx0Y2lyY2xlX2NoYXJ0KCk7XG5cdFx0XHRcdFx0XHRcdFx0cGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XG5cdFx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSB0cnVlOyAvLyB0aGUgYWpheCBpcyBjb21wbGV0ZWQsIG5vdyB3ZSBjYW4gcnVuIGl0IGFnYWluXG5cblx0XHRcdFx0XHRcdFx0XHRpZiAocGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID09IG1heF9wYWdlKVxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnJyk7IC8vIGlmIGxhc3QgcGFnZSwgcmVtb3ZlIHRoZSBidXR0b25cblxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeShcIi5sb2FkZXItd2hlZWwtY29udGFpbmVyXCIpLmh0bWwoJycpOyAvLyBpZiBsYXN0IHBhZ2UsIHJlbW92ZSB0aGUgYnV0dG9uXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vKiogQ2FzdCBpbmZpbml0ZSBzY3JvbGwqKi8vXG5cdFx0aWYgKGpRdWVyeShcIiNjYXN0LXBlcnNvbi1saXN0XCIpLmxlbmd0aCA+IDApIHtcblx0XHRcdGpRdWVyeShcIiNjYXN0LXBlcnNvbi1saXN0XCIpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGxldCBfdGhpcyA9IGpRdWVyeSh0aGlzKTtcblx0XHRcdFx0bGV0IHBocF9wcmVmaXhfb3B0aW9uc19wZXJzb25fYWxsID0gX3RoaXMuZmluZCgnLnNjaG9wZmVyX2Nhc3RfbGlzdC5hY3RpdmUnKS5kYXRhKCdvcHRpb25zJyk7XG5cdFx0XHRcdGlmIChwaHBfcHJlZml4X29wdGlvbnNfcGVyc29uX2FsbCA9PSAnaW5maW5pdGVfc2Nyb2xsJykge1xuXHRcdFx0XHRcdC8vKiogcGVyc29uIGxvYWQgbW9yZSAqLy9cblx0XHRcdFx0XHRpZiAoalF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IChqUXVlcnkoZG9jdW1lbnQpLmhlaWdodCgpIC0gYm90dG9tT2Zmc2V0KSAmJiBjYW5CZUxvYWRlZCA9PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRjYW5CZUxvYWRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0bGV0IHBocF9wcmVmaXhfY3VycmVudF9wYWdlID0gcGFyc2VJbnQoX3RoaXMuZmluZCgnLnNjaG9wZmVyX2Nhc3RfbGlzdC5hY3RpdmUnKS5kYXRhKCdjdXJyZW50LXBhZ2UnKSk7XG5cdFx0XHRcdFx0XHRsZXQgcG9zdCA9IF90aGlzLmZpbmQoJy5zY2hvcGZlcl9jYXN0X2xpc3QuYWN0aXZlJykuYXR0cignZGF0YS1hdHRpYnV0ZScpO1xuXHRcdFx0XHRcdFx0bGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcdFx0XHRcdFx0bGV0IGRhdGEgPSB7XG5cdFx0XHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmVfcGVyc29uJyxcblx0XHRcdFx0XHRcdFx0J3F1ZXJ5JzogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMucG9zdHMsXG5cdFx0XHRcdFx0XHRcdCdwYWdlJzogcGhwX3ByZWZpeF9jdXJyZW50X3BhZ2UsXG5cdFx0XHRcdFx0XHRcdCdocmVmJzogdXJsLFxuXHRcdFx0XHRcdFx0XHQncG9zdF90eXBlJzogcG9zdCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRwaHBfcHJlZml4X2N1cnJlbnRfcGFnZSsrO1xuXHRcdFx0XHRcdFx0X3RoaXMuZmluZCgnLnNjaG9wZmVyX2Nhc3RfbGlzdC5hY3RpdmUnKS5kYXRhKCdjdXJyZW50LXBhZ2UnLCBwaHBfcHJlZml4X2N1cnJlbnRfcGFnZSk7XG5cdFx0XHRcdFx0XHRqUXVlcnkuYWpheCh7XG5cdFx0XHRcdFx0XHRcdHVybDogcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuYWpheHVybCxcblx0XHRcdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfdGhpcy5maW5kKCcuc2Nob3BmZXJfY2FzdF9saXN0LmFjdGl2ZSAubG9hZGVyLXdoZWVsLWNvbnRhaW5lcicpLmh0bWwoJzxkaXYgY2xhc3M9XCJsb2FkZXItd2hlZWxcIj48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2Rpdj4nKTtcblx0XHRcdFx0XHRcdFx0XHRcdF90aGlzLmZpbmQoJy5zY2hvcGZlcl9jYXN0X2xpc3QuYWN0aXZlIC5jYXN0LXJlbGF0ZWQtbGlzdCB0cjpsYXN0LWNoaWxkJykuYWZ0ZXIoZGF0YSk7IC8vIHdoZXJlIHRvIGluc2VydCBwb3N0c1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSB0cnVlOyAvLyB0aGUgYWpheCBpcyBjb21wbGV0ZWQsIG5vdyB3ZSBjYW4gcnVuIGl0IGFnYWluXG5cblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0X3RoaXMuZmluZCgnLnNjaG9wZmVyX2Nhc3RfbGlzdC5hY3RpdmUgLmxvYWRlci13aGVlbC1jb250YWluZXInKS5odG1sKCcnKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXG5cdH0pO1xuXG5cbn0pKGpRdWVyeSk7XG5cbiJdfQ==